# Read about fixtures at http://api.rubyonrails.org/classes/ActiveRecord/Fixtures.html
# Load options to be accessible via symbol or string
--- !map:HashWithIndifferentAccess

one:
  name: Design One
  description: MyText
  options: [{ variable_id: <%= ActiveRecord::Fixtures.identify(:one) %> }, { variable_id: <%= ActiveRecord::Fixtures.identify(:two) %>, branching_logic: "var_1 == 'Value'" }]
  user: valid
  project: one
  deleted: false

two:
  name: Design Two
  description: MyText
  options: []
  user: valid
  deleted: false

all_variable_types:
  name: All Variable Types
  description: A Design with all types of variables used
  options: [{ variable_id: <%= ActiveRecord::Fixtures.identify(:dropdown) %> },
            { variable_id: <%= ActiveRecord::Fixtures.identify(:checkbox) %> },
            { variable_id: <%= ActiveRecord::Fixtures.identify(:radio) %> },
            { variable_id: <%= ActiveRecord::Fixtures.identify(:string) %>, branching_logic: "var_year == 1 || intersection(var_course_work, ['acct101', 'econ101']).length > 0" },
            { variable_id: <%= ActiveRecord::Fixtures.identify(:text) %> },
            { variable_id: <%= ActiveRecord::Fixtures.identify(:integer) %> },
            { variable_id: <%= ActiveRecord::Fixtures.identify(:numeric) %> },
            { variable_id: <%= ActiveRecord::Fixtures.identify(:date) %> },
            { variable_id: <%= ActiveRecord::Fixtures.identify(:file) %> },
            { variable_id: <%= ActiveRecord::Fixtures.identify(:time) %> },
            { variable_id: <%= ActiveRecord::Fixtures.identify(:calculated) %> }]
  user: valid
  deleted: false
  email_template: "Dear #(site): #(subject) #(subject).acrostic #(date) $(var_gender).name $(var_gender) $(var_gender).label $(var_gender).value $(var_course_work).label $(var_age).label $(var_file).label $(var_date).label"

global:
  name: Global
  description: For testing that librarian who didn't create design can update and delete design.
  options: [{ variable_id: <%= ActiveRecord::Fixtures.identify(:one) %> }, { variable_id: <%= ActiveRecord::Fixtures.identify(:two) %> }]
  user: two

sections_and_variables:
  name: Section and Variables
  description: Used to test section and variable reordering
  options: [
              { variable_id: <%= ActiveRecord::Fixtures.identify(:date) %> },
              { section_name: 'Section A', section_id: '_section_a' },
              { variable_id: <%= ActiveRecord::Fixtures.identify(:dropdown) %> },
              { variable_id: <%= ActiveRecord::Fixtures.identify(:checkbox) %> },
              { variable_id: <%= ActiveRecord::Fixtures.identify(:radio) %> },
              { section_name: 'Section B', section_id: '_section_b' },
              { variable_id: <%= ActiveRecord::Fixtures.identify(:string) %> },
              { variable_id: <%= ActiveRecord::Fixtures.identify(:text) %> },
              { variable_id: <%= ActiveRecord::Fixtures.identify(:integer) %> },
              { variable_id: <%= ActiveRecord::Fixtures.identify(:numeric) %> },
              { variable_id: <%= ActiveRecord::Fixtures.identify(:file) %> }
           ]
  user: valid
  project: one
  deleted: false

section_and_file:
  name: Section and File Variable
  description: Test file upload and removal.
  options: [
              { section_name: 'Section A', section_id: '_section_a' },
              { variable_id: <%= ActiveRecord::Fixtures.identify(:file) %> }
           ]
  user: valid
  project: one
  deleted: false
