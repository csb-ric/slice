<% is_grid = defined?(grid) %>

<div class="<% unless variable.prepend.blank? %>input-prepend<% end %> input-append" style="display:inline-block;white-space:nowrap">
  <% unless variable.prepend.blank? %><span class="add-on"><%= variable.prepend %></span><% end %>
  <%= text_field_tag field_name, (Time.parse(response).strftime('%H:%M:%S') rescue response), class: "timepicker input-#{defined?(control_size) ? control_size : 'large'}",
        data: {
                content: variable.description,
                title: variable.display_name,
                object: "condition",
                placement: (variable.show_current_button? ? 'left' : 'right'),
                html: true
              },
        rel: "#{variable.description.blank? ? '' : 'popover'}",
        autocomplete: 'off',
        disabled: disabled,
        title: variable.display_name,
        placeholder: 'hh:mm:ss' %>
  <span class="add-on"><i class="icon-time"></i></span>
  <% unless variable.append.blank? %><span class="add-on"><%= variable.append %></span><% end %>
  <%= link_to 'Current Time', '#', data: { object: 'set-current-time', target_time: "##{field_name.gsub('[', '_').gsub(']', '')}" }, class: 'btn', tabindex: '-1' if variable.show_current_button? %>
</div>
