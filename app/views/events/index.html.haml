- @title = "Events"
- @menu_title = "#{@project.name} #{@title}"

= render "projects/side_nav"

- content_for :header do
  .background-gradient
  .header-container
    .container
      %h1.page-heading
        .float-right
          = link_to plus_or("New Event"), new_project_event_path(@project), class: "btn btn-accent btn-shadow"
          .per-page= render "layouts/per_page", per_page: 40, object_count: @events.total_count
        = @title
        = render "search/toggle"

= render "search/simple", url: project_events_path(@project)

- if @events.present?
  .dashboard-container
    %table.table.table-striped.table-borderless.table-hover
      %col{ width: "1px" }
      %col
      %col.d-none.d-sm-table-column
      %col.d-none.d-sm-table-column
      %col.d-none.d-md-table-column
      %col{ width: "1px" }
      %thead
        %tr
          = th_sort_field @order, "events.position", "Position", extra_class: "text-center"
          = th_sort_field @order, "events.name", "Name"
          %th.d-none.d-sm-table-cell Launched
          = th_sort_field @order, "events.archived", "Archived", extra_class: "d-none d-sm-table-cell text-center"
          %th.d-none.d-md-table-cell.text-center Designs
          %th.text-center Actions

      - @events.each do |event|
        %tr{ id: "event-#{event.id}-container" }
          = render "events/event_row", event: event

  .text-center= paginate @events, theme: "bootstrap"
- else
  .jumbotron
    %p.text-center No events found.

.docs-learn-more
  Learn about
  = succeed "." do
    = link_to "events", docs_events_path
