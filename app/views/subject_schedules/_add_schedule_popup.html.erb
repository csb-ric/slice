<div class="modal" id="add_schedule_modal">
  <div class="modal-dialog modal-wide-width">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">
          Add Schedule
        </h4>
      </div>
      <div class="modal-body">
        <% @subject_schedule = @subject.subject_schedules.new %>
        <%= form_for [@project, @subject, @subject_schedule], html: { class: 'form-horizontal', id: 'subject_schedule_form' }, method: :post, remote: true do |f| %>
          <% if @subject_schedule.errors.any? %>
            <div id="error_explanation" class="bs-callout bs-callout-danger">
              <h4><%= pluralize(@subject_schedule.errors.count, "error") %> prohibited this subject_schedule from being saved</h4>

              <ul>
              <% @subject_schedule.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
              <% end %>
              </ul>
            </div>
          <% end %>

          <div class="form-group">
            <%= f.label :schedule_id, nil, class: 'col-md-2 control-label' %>
            <div class="col-md-10">
              <%= f.select :schedule_id, [['---', nil]] + @project.schedules.collect{|s| [s.name, s.id]}, {}, class: 'form-control' %>
            </div>
          </div>

          <div class="form-group">
            <%= f.label :initial_due_date, nil, class: 'col-md-2 control-label' %>
            <div class="col-md-10">
              <%= f.text_field :initial_due_date, class: 'datepicker form-control', value: @subject_schedule.initial_due_date ? @subject_schedule.initial_due_date.strftime('%m/%d/%Y') : '' %>
            </div>
          </div>
        <% end %>

      </div>
      <div class="modal-footer">
        <%= button_tag 'Add Schedule', data: { object: 'submit', target: '#subject_schedule_form' }, class: 'btn btn-primary' %>
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>
