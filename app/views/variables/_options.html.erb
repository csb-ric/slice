<% if @variable.options.size == 0 %>
  <% (0..4).each do |index| %>
    <% position = Time.now.to_i.to_s + Time.now.usec.to_s + index.to_s %>
    <% @option = { name: '', value: '', description: '' } %>
    <%= render partial: 'edit_option', locals: { position: position } %>
  <% end %>
<% else %>
  <% if params[:variable] and params[:variable][:option_tokens] %>
    <% params[:variable][:option_tokens].each_pair do |position, option|  %>
      <%= @option = option; render partial: 'edit_option', locals: { option_index: option[:option_index], position: position } %>
    <% end %>
  <% else %>
    <% @variable.options.each_with_index do |option, index| %>
      <%= @option = option; render partial: 'edit_option', locals: { option_index: index } %>
    <% end %>
  <% end %>
<% end %>
