%ul.mini-left-navigation
  %li
    = link_to @project, class: (current_page?(@project) ? 'active' : nil), rel: 'tooltip', data: { title: 'Overview', container: 'body', placement: 'right' } do
      %span.glyphicon.glyphicon-home
  %li
    = link_to project_subjects_path(@project), class: (params[:controller] == 'subjects' || params[:action] == 'subject_report' ? 'active' : nil), rel: 'tooltip', data: { title: 'Subjects', container: 'body', placement: 'right' } do
      %span.glyphicon.glyphicon-bed
  %li
    = link_to project_sheets_path(@project), class: (params[:controller] == 'sheets' ? 'active' : nil), rel: 'tooltip', data: { title: 'Sheets', container: 'body', placement: 'right' } do
      %span.glyphicon.glyphicon-duplicate
  - if @project.randomizations_enabled? and @project.randomization_schemes.count > 0
    %li
      = link_to project_randomizations_path(@project), class: (params[:controller] == 'randomizations' || %w(randomize_subject randomize_subject_to_list).include?(params[:action]) ? 'active' : nil), rel: 'tooltip', data: { title: 'Randomizations', container: 'body', placement: 'right' } do
        %span.glyphicon.glyphicon-random
  - if @project.adverse_events_enabled?
    %li
      = link_to project_adverse_events_path(@project), class: (%w(adverse_events adverse_event_files).include?(params[:controller]) ? 'active' : nil), rel: 'tooltip', data: { title: 'Adverse Events', container: 'body', placement: 'right' } do
        %span.glyphicon.glyphicon-warning-sign{ class: current_user.unseen_adverse_events.present? ? 'text-danger' : nil }
  %li
    - if current_page?(project_sheets_path(@project))
      - url = '#'
      - object = 'show-contour-modal'
    - else
      - url = project_sheets_path(@project, e: '1')
      - object = nil
    = link_to url, rel: 'tooltip', data: { object: object, title: 'Export Data', container: 'body', placement: 'right' } do
      %span.glyphicon.glyphicon-export
  %li
    = link_to activity_project_path(@project), class: (current_page?(activity_project_path(@project)) ? 'active' : nil), rel: 'tooltip', data: { title: 'Recent Activity', container: 'body', placement: 'right' } do
      %span.glyphicon.glyphicon-list
  %li
    = link_to share_project_path(@project), class: (current_page?(share_project_path(@project)) ? 'active' : nil), rel: 'tooltip', data: { title: 'Collaborators', container: 'body', placement: 'right' } do
      %span.glyphicon.glyphicon-user

  - if @project.editable_by? current_user
    %li
      = link_to setup_project_path(@project), class: (current_page?(setup_project_path(@project)) ? 'active' : nil), rel: 'tooltip', data: { title: 'Settings', container: 'body', placement: 'right' } do
        %span.glyphicon.glyphicon-cog

  - if setup_path?
    - if @project.editable_by?(current_user)
      %li
        = link_to project_designs_path(@project), class: (current_page?(project_designs_path(@project)) ? 'active' : nil), rel: 'tooltip', data: { title: 'Designs', container: 'body', placement: 'right' } do
          %span.glyphicon.glyphicon-list-alt
      %li
        = link_to project_categories_path(@project), class: (current_page?(project_categories_path(@project)) ? 'active' : nil), rel: 'tooltip', data: { title: 'Categories', container: 'body', placement: 'right' } do
          %span.glyphicon.glyphicon-tags
