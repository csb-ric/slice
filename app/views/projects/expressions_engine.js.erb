$("#current-tokens").html("<%=j render "engine/tokens_border", engine: @engine %>");


$("#subjects-count").html("<%=j pluralize(number_with_delimiter(@engine.interpreter.subjects_count), "Subject") %>");
$("#run-ms").html("<%= @engine.run_ms %>ms");

$("#sobjects-table").html("<%=j render "engine/sobjects", engine: @engine %>");

$("#engine-tree").html("<%=j render "engine/tree", engine: @engine %>");

<% unless params[:setup] == "1" %>
if (Turbolinks.supported) {
  Turbolinks.controller.pushHistoryWithLocationAndRestorationIdentifier("//" + location.host + location.pathname + "?" + "expression=<%= CGI.escape(params[:expression]) %>", Turbolinks.uuid());
}
<% end %>
