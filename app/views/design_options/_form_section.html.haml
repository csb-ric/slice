= hidden_field_tag "design_option[position]", design_option.position

.form-group.row
  %label.col-md-2.col-form-label Section Name
  .col-md-10
    .input-group
      = text_field_tag "section[name]", section.name, class: "form-control"
      - if World.translate_language?
        .input-group-append
          %span.input-group-text= World.language
    = render "layouts/errors", object: section, key: :name

.form-group.row
  %label.col-md-2.col-form-label Section Description
  .col-md-10
    .input-group
      = text_area_tag "section[description]", section.description, rows: 3, class: "form-control"
      - if World.translate_language?
        .input-group-append
          %span.input-group-text= World.language

.form-group.row
  %label.col-md-2.col-form-label Section Image
  .col-md-10
    - if section.image && section.image.size > 0
      .d-none= file_field_tag "section[image]"
      .form-control-plaintext
        .custom-control.custom-checkbox
          = check_box_tag "section[remove_image]", "1", false, class: "custom-control-input"
          = label "section", "remove_image", class: "custom-control-label" do
            Remove image
        %code= section.image.path.split("/").last
        %span.badge.badge-secondary= number_to_human_size(section.image.size)
    - else
      = file_field_tag "section[image]", class: "form-control"

    = render "layouts/errors", object: section, key: :image

.form-group.row
  %label.col-md-2.col-form-label Section Type
  .col-md-10
    = select_tag "section[level]", options_for_select(Section::LEVELS, section.level), style: "width:200px", class: "form-control"

.form-group.row
  %label.col-md-2.col-form-label
    Branching Logic
    = link_to "#", class: "btn btn-info btn-sm", data: { object: "toggle-visibility", target: "#branching-logic-info" }, tabindex: "-1" do
      %i.fa.fa-info-circle
  .col-md-10
    = text_area_tag "design_option[branching_logic]", design_option.readable_branching_logic, rows: 7, class: "form-control", data: { object: "calculation-variable-name-textcomplete", project_id: @project.id }
    = render "layouts/branching_logic_examples"
