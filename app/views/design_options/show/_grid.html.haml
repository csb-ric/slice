-# Range should either be the existing positions (which are long strings) or the positions from the sheet_variables
- max_position = (variable.default_row_number - 1)
- range = (0..max_position)

- if variable.grid_variables.size > 0
  %table.table.table-hover
    %thead
      %tr
        - variable.grid_variables.each do |grid_variable_id|
          - v = Variable.find_by_id(grid_variable_id[:variable_id])
          %td
            .editable-design-element{ data: { object: "pull-partial-edit", edit: "variable_display_name", position: @position, variable_id: v.id } }
              = v.display_name if v
    %tbody{ id: "variable_#{variable.id}_grid_container" }
      - range.each do |position|
        = render "design_options/show/grid_variables", design_option: design_option, disabled: true, position: position, variable: variable
  = link_to 'Add Row', '#', class: 'btn btn-default btn-xs', disabled: 'disabled', data: { object: 'suppress-click' }, tabindex: "-1" if variable.multiple_rows?

= link_to 'Edit Grid Questions', edit_variable_project_design_design_option_path(@project, @design, design_option, attribute: 'grid_variables'), remote: true, method: :get, class: 'design-preview-hide btn btn-xs btn-success'
