- @title = "Medication Stopped - Medication #{params[:number]} - Review Medications"
- @menu_title = "#{@project.name} #{@subject.name} #{@title}"

- content_for :sidebar, render("subjects/sidebar")

- content_for :header do
  = @title

- content_for :breadcrumbs do
  %ol
    %li= link_to @subject.subject_code, [@project, @subject]
    %li= link_to "medications", medications_project_subject_path(@project, @subject)
    %li.breadcrumb-muted add

.jumbotron.jumbotron-custom-text
  Add Medication Details

.dashboard-container
  - @medication = Medication2.new
  = form_with do |form|
    = render "forms/horizontal/text_field", form: form, object: @medication, key: :name
    = render "forms/horizontal/text_field", form: form, object: @medication, key: :indication
    = render "forms/horizontal/text_field", form: form, object: @medication, key: :dose
    = render "forms/horizontal/text_field", form: form, object: @medication, key: :units
    = render "forms/horizontal/text_field", form: form, object: @medication, key: :frequency

    .mb-3
      Start Date
      = text_field_tag :stop_date_fuzzy_mo_1, "", maxlength: 1, size: 1, placeholder: "M", class: "text-center", data: { object: "fuzzy-date" }, pattern: "[0-9]{1}", autofocus: true
      = text_field_tag :stop_date_fuzzy_mo_2, "", maxlength: 1, size: 1, placeholder: "M", class: "text-center", data: { object: "fuzzy-date" }, pattern: "[0-9]{1}"
      \/
      = text_field_tag :stop_date_fuzzy_dy_1, "", maxlength: 1, size: 1, placeholder: "D", class: "text-center", data: { object: "fuzzy-date" }, pattern: "[0-9]{1}"
      = text_field_tag :stop_date_fuzzy_dy_2, "", maxlength: 1, size: 1, placeholder: "D", class: "text-center", data: { object: "fuzzy-date" }, pattern: "[0-9]{1}"
      \/
      = text_field_tag :stop_date_fuzzy_yr_1, "", maxlength: 1, size: 1, placeholder: "Y", class: "text-center", data: { object: "fuzzy-date" }, pattern: "[0-9]{1}"
      = text_field_tag :stop_date_fuzzy_yr_2, "", maxlength: 1, size: 1, placeholder: "Y", class: "text-center", data: { object: "fuzzy-date" }, pattern: "[0-9]{1}"
      = text_field_tag :stop_date_fuzzy_yr_3, "", maxlength: 1, size: 1, placeholder: "Y", class: "text-center", data: { object: "fuzzy-date" }, pattern: "[0-9]{1}"
      = text_field_tag :stop_date_fuzzy_yr_4, "", maxlength: 1, size: 1, placeholder: "Y", class: "text-center", data: { object: "fuzzy-date" }, pattern: "[0-9]{1}"


    %div
      Stop Date
      = text_field_tag :stop_date_fuzzy_mo_1, "", maxlength: 1, size: 1, placeholder: "M", class: "text-center", data: { object: "fuzzy-date" }, pattern: "[0-9]{1}", autofocus: true
      = text_field_tag :stop_date_fuzzy_mo_2, "", maxlength: 1, size: 1, placeholder: "M", class: "text-center", data: { object: "fuzzy-date" }, pattern: "[0-9]{1}"
      \/
      = text_field_tag :stop_date_fuzzy_dy_1, "", maxlength: 1, size: 1, placeholder: "D", class: "text-center", data: { object: "fuzzy-date" }, pattern: "[0-9]{1}"
      = text_field_tag :stop_date_fuzzy_dy_2, "", maxlength: 1, size: 1, placeholder: "D", class: "text-center", data: { object: "fuzzy-date" }, pattern: "[0-9]{1}"
      \/
      = text_field_tag :stop_date_fuzzy_yr_1, "", maxlength: 1, size: 1, placeholder: "Y", class: "text-center", data: { object: "fuzzy-date" }, pattern: "[0-9]{1}"
      = text_field_tag :stop_date_fuzzy_yr_2, "", maxlength: 1, size: 1, placeholder: "Y", class: "text-center", data: { object: "fuzzy-date" }, pattern: "[0-9]{1}"
      = text_field_tag :stop_date_fuzzy_yr_3, "", maxlength: 1, size: 1, placeholder: "Y", class: "text-center", data: { object: "fuzzy-date" }, pattern: "[0-9]{1}"
      = text_field_tag :stop_date_fuzzy_yr_4, "", maxlength: 1, size: 1, placeholder: "Y", class: "text-center", data: { object: "fuzzy-date" }, pattern: "[0-9]{1}"

= link_to plus_or("CREATE"), medication_added_project_subject_path(@project, @subject, number: 1), class: "btn btn-accent btn-shadow"
