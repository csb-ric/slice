!!!
%html
  %head
    %meta{ charset: 'utf-8'}
    %meta{ content: 'IE=Edge,chrome=1', http: { equiv: 'X-UA-Compatible' } }
    %meta{ name: 'viewport', content: 'width=device-width, initial-scale=1.0' }
    %meta{ itemprop: 'name', content: 'Slice Data Collection Management System' }
    %meta{ itemprop: 'description', content: 'Simplifying clinical trial and research data collection' }
    %meta{ name: 'description', content: 'Simple Data Collection and Reporting for Clinical Research' }
    %meta{ name: 'keywords', content: @keywords.present? ? @keywords : 'clinical trial management system, free, web survey, data collection, data reporting, online randomization, adverse event reporting' }
    -# Don't cache any pages
    %meta{ name: 'turbolinks-cache-control', content: 'no-cache' }
    %title= [@title, ENV['website_name']].compact.join(' - ').html_safe

    = favicon_link_tag
    = csrf_meta_tags

    / HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries
    /[if lt IE 9]
      %script{ src: '//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js' }
      %script{ src: '//oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js' }

    - if current_user and Slice::THEMES.collect{|theme_name, theme| theme}.include?(current_user.theme)
      = stylesheet_link_tag "application-#{current_user.theme}", media: 'all', data: { turbolinks_track: 'reload' }
    - else
      = stylesheet_link_tag 'application', media: 'all', data: { turbolinks_track: 'reload' }
    = javascript_include_tag 'application', data: { turbolinks_track: 'reload' }
    = javascript_tag "var root_url='#{request.script_name + '/'}';"
  %body#top
    - if current_user
      %div{ style: 'display:none', data: { object:  'current-user' } }
      = render 'timeout/modal'

    = yield :side_nav

    = render 'layouts/menu' unless @no_footer

    %div{ class: @side_nav ? 'header-slide' : '' }= yield :header

    %div{ id: (@side_nav ? 'main-content' : '') }

      =# render 'layouts/beta/beta_corner'

      .container.body-content
        = yield

      = yield :footer

    - unless @no_footer
      .footer-container{ class: @side_nav ? 'footer-slide' : '' }
        .container
          = render 'layouts/footer'

    .mask-modal
